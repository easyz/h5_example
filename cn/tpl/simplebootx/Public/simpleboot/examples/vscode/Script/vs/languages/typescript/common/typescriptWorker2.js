'use strict';define("vs/languages/typescript/common/features/converter",["require","exports"],function(e,b){function f(c,d){var a=c.getFullWidth();return d>a?a:d}b.getOffset=function(c,d){return c.getPositionOfLineAndCharacter(d.lineNumber-1,d.column-1)};b.getStartOffset=function(c,d){return c.getPositionOfLineAndCharacter(d.startLineNumber-1,d.startColumn-1)};b.getEndOffset=function(c,d){return c.getPositionOfLineAndCharacter(d.endLineNumber-1,d.endColumn-1)};b.getPosition=function(c,d){d=f(c,d);var a=c.getLineAndCharacterOfPosition(d);return{lineNumber:1+a.line,column:1+a.character}};b.getRange=function(c,d,a,k){var b,h;if("number"==typeof a?h=a:k=a,"number"==typeof d?b=d:(b=d.start,h=b+d.length),b=f(c,b),h=f(c,h),k)return d=c.getLineAndCharacterOfPosition(b),{startLineNumber:1+d.line,startColumn:1+d.character,endLineNumber:1+d.line,endColumn:1+d.character};d=c.getLineAndCharacterOfPosition(b);c=c.getLineAndCharacterOfPosition(h);return{startLineNumber:1+d.line,startColumn:1+d.character,endLineNumber:1+c.line,endColumn:1+c.character}}});define("vs/languages/typescript/common/features/format",["require","exports","vs/languages/typescript/common/features/converter"],function(e,b,f){function c(d){return{IndentSize:d.tabSize,TabSize:d.tabSize,NewLineCharacter:"\n",ConvertTabsToSpaces:d.insertSpaces,InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,PlaceOpenBraceOnNewLineForFunctions:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1}}b.formatDocument=function(d,a,k){a=a.toString();var b=d.getSourceFile(a);return d.getFormattingEditsForDocument(a,c(k)).map(function(a){return{text:a.newText,range:f.getRange(b,a.span)}})};b.formatRange=function(d,a,k,b){a=a.toString();var h=d.getSourceFile(a),l=f.getStartOffset(h,k);k=f.getEndOffset(h,k);return d.getFormattingEditsForRange(a,l,k,c(b)).map(function(p){return{text:p.newText,range:f.getRange(h,p.span)}})};b.formatAfterKeystroke=function(d,a,k,b,h){a=a.toString();var l=d.getSourceFile(a);k=f.getOffset(l,k);return d.getFormattingEditsAfterKeystroke(a,k,b,c(h)).map(function(p){return{text:p.newText,range:f.getRange(l,p.span)}})}});define("vs/languages/typescript/common/features/occurrences",["require","exports","vs/languages/typescript/common/features/converter"],function(e,b,f){b.compute=function(c,d,a,k){d=d.toString();var b=c.getSourceFile(d);a=f.getOffset(b,a);return(c=c.getOccurrencesAtPosition(d,a))?c.map(function(a){return{kind:a.isWriteAccess?"write":null,range:f.getRange(b,a.textSpan)}}):[]}});define("vs/languages/typescript/common/options",["require","exports","vs/base/common/objects"],function(e,b,f){var c;return function(d){d.typeScriptOptions=Object.freeze({suggest:{alwaysAllWords:!1,useCodeSnippetsOnMethodSuggest:!1},validate:{enable:!0,semanticValidation:!0,syntaxValidation:!0,_surpressSuperWithoutSuperTypeError:!1,lint:{comparisonOperatorsNotStrict:"ignore",curlyBracketsMustNotBeOmitted:"ignore",emptyBlocksWithoutComment:"ignore",functionsInsideLoops:"ignore",functionsWithoutReturnType:"ignore",missingSemicolon:"ignore",newOnLowercaseFunctions:"ignore",semicolonsInsteadOfBlocks:"ignore",tripleSlashReferenceAlike:"ignore",unknownTypeOfResults:"ignore",unusedFunctions:"ignore",unusedImports:"ignore",unusedMembers:"ignore",unusedVariables:"ignore",forcedTypeConversion:"error",mixedTypesArithmetics:"error",newOnReturningFunctions:"error",parametersDontMatchSignature:"error",parametersOptionalButNotLast:"error",primitivesInInstanceOf:"error",redeclaredVariables:"error",undeclaredVariables:"error",unknownModule:"error",unknownProperty:"error"}}});d.javaScriptOptions=Object.freeze({suggest:{alwaysAllWords:!1,useCodeSnippetsOnMethodSuggest:!1},validate:{enable:!0,semanticValidation:!0,syntaxValidation:!0,_surpressSuperWithoutSuperTypeError:!1,lint:{comparisonOperatorsNotStrict:"ignore",curlyBracketsMustNotBeOmitted:"ignore",emptyBlocksWithoutComment:"ignore",forcedTypeConversion:"warning",functionsInsideLoops:"ignore",functionsWithoutReturnType:"ignore",missingSemicolon:"ignore",mixedTypesArithmetics:"warning",newOnLowercaseFunctions:"warning",newOnReturningFunctions:"warning",parametersDontMatchSignature:"ignore",parametersOptionalButNotLast:"ignore",primitivesInInstanceOf:"error",redeclaredVariables:"warning",semicolonsInsteadOfBlocks:"ignore",tripleSlashReferenceAlike:"warning",undeclaredVariables:"warning",unknownModule:"ignore",unknownProperty:"ignore",unknownTypeOfResults:"warning",unusedFunctions:"ignore",unusedImports:"ignore",unusedMembers:"ignore",unusedVariables:"warning"}}});d.withDefaultOptions=function(a,d){return f.mixin(f.clone(d),a)}}(c||(c={})),c});define("vs/languages/typescript/common/project/snapshots",["require","exports"],function(e,b){b.fromValue=function(b){var c=b.length;return 15E5<c&&(b=b.replace(/[^\r\n]/g," ")),{getLength:function(){return c},getText:b.substring.bind(b),getChangeRange:function(){return null}}}});define("vs/languages/typescript/common/features/definitions",["require","exports","vs/base/common/network"],function(e,b,f){b.findDeclaration=function(c,d,a){d=d.toString();a=c.host.getScriptLineMap(d).getOffset(a);a=c.languageService.getDefinitionAtPosition(d,a);if(!a||0===a.length)return null;a=a[0];return a.fileName?{resource:f.URL.fromValue(a.fileName),range:c.host.getScriptLineMap(a.fileName).getRangeFromSpan(a.textSpan)}:null}});define("vs/languages/typescript/common/features/emitting",["require","exports","vs/base/common/strings"],function(e,b,f){b.getEmitOutput=function(c,d,a){c=c.getEmitOutput(d.toString()).outputFiles;if(!c)return null;d=0;for(var b=c.length;b>d;d++)if(f.endsWith(c[d].name,a))return{filename:c[d].name,content:c[d].text};return null}});define("vs/languages/typescript/common/features/previewer",["require","exports","vs/base/common/strings"],function(e,b,f){b.html=function(c,d){if(void 0===d&&(d=f.empty),!c)return{};var a=c.map(function(a){return{tagName:"span",text:a.text,className:a.kind}});return{tagName:"div",className:"ts-symbol "+d,children:a}};b.plain=function(c){return c?c.map(function(d){return d.text}).join(f.empty):f.empty}});define("vs/languages/typescript/common/features/extraInfo",["require","exports","vs/languages/typescript/common/features/converter","vs/languages/typescript/common/features/previewer"],function(e,b,f,c){b.compute=function(d,a,b){var e,h=a.toString();a=d.getSourceFile(h);b=f.getOffset(a,b);(d=d.getQuickInfoAtPosition(h,b))&&(e={value:"",htmlContent:[c.html(d.displayParts),c.html(d.documentation,"documentation")],className:"typeInfo ts",range:f.getRange(a,d.textSpan)});return e}});define("vs/languages/typescript/common/features/parameterHints",["require","exports","vs/base/common/strings","vs/languages/typescript/common/features/converter","vs/languages/typescript/common/features/previewer"],function(e,b,f,c,d){b.compute=function(a,b,e){b=b.toString();var h=a.getSourceFile(b);e=c.getOffset(h,e);a=a.getSignatureHelpItems(b,e);if(!a)return null;var l={currentSignature:a.selectedItemIndex,currentParameter:a.argumentIndex,signatures:[]};return a.items.forEach(function(a){var g={label:f.empty,documentation:null,parameters:[]};g.label+=d.plain(a.prefixDisplayParts);a.parameters.forEach(function(c,m,b){var h=d.plain(c.displayParts);c={label:h,documentation:d.plain(c.documentation),signatureLabelOffset:g.label.length,signatureLabelEnd:g.label.length+h.length};g.label+=h;g.parameters.push(c);m<b.length-1&&(g.label+=d.plain(a.separatorDisplayParts))});g.label+=d.plain(a.suffixDisplayParts);l.signatures.push(g)}),l}});var __extends=this&&this.__extends||function(e,b){function f(){this.constructor=e}for(var c in b)b.hasOwnProperty(c)&&(e[c]=b[c]);e.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};define("vs/languages/typescript/common/js/textEdits",["require","exports","vs/base/common/arrays","vs/base/common/strings"],function(e,b,f,c){function d(p,g){return-a(p,g)}function a(a,g){return a.offset===g.offset?g.length-a.length:g.offset-a.offset}var k;!function(a){function g(g,a){return g.offset<=a&&a<=g.offset+g.length}a.contains=g;a.overlaps=function(a,d){return g(a,d.offset)||g(a,d.offset+d.length)}}(k=b.ITextSpan||(b.ITextSpan={}));var r=function(){function a(g,d){this.offset=g;this.length=d}return a.from=function(g){return new a(g.offset,g.length)},Object.defineProperty(a.prototype,"end",{get:function(){return this.offset+this.length},enumerable:!0,configurable:!0}),a.prototype.equals=function(a){return this.offset===a.offset&&this.length===a.length},a.prototype.contains=function(a){return a.offset>=this.offset&&a.offset<this.end&&a.offset+a.length<=this.end},a.prototype.overlaps=function(a){return k.overlaps(this,a)},a}();b.TextSpan=r;var h=function(a){function g(g,d,c){a.call(this,g,d);this.text=c}return __extends(g,a),Object.defineProperty(g.prototype,"deltaLength",{get:function(){return this.text.length-this.length},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"deltaEnd",{get:function(){return this.end+this.deltaLength},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"deltaSpan",{get:function(){return new r(this.offset,this.deltaLength)},enumerable:!0,configurable:!0}),g.prototype.isInsert=function(){return 0===this.length&&0<this.text.length},g.prototype.equals=function(g){return this.text===g.text&&a.prototype.equals.call(this,g)},g.prototype.toString=function(){return c.format("{0}-{1}/{2}",this.offset,this.length,this.text)},g}(r);b.Edit=h;b.compareAscending=d;b.compareDecending=a;b.apply=function(d,g){var b=[],m=Object.create(null);f.forEach(d,function(a,g){if(a.isInsert()){var n=m[a.offset];n?(a.origin&&(b.push(new r(a.offset+n.text.length,a.deltaLength)),b.push(a.origin)),n.text+=a.text,g()):(m[a.offset]=a,a.origin&&(b.push(a.deltaSpan),b.push(a.origin)))}});var k,l=[],e=g.length,w=[],q=[];d.sort(a);for(var n=0,x=d.length;x>n;n++)k=d[n],l.push(g.substring(k.end,e)),l.push(k.text),e=k.offset,w.push(k.deltaLength),q.push(new h(k.offset,k.text.length,g.substr(k.offset,k.length)));l.push(g.substring(0,e));k=0;for(n=q.length-1;0<=n;n--)q[n].offset+=k,k+=w[n];return{value:l.reverse().join(c.empty),doEdits:d,undoEdits:q,derived:b}};(function(a){a[a.None=0]="None";a[a.StickLeft=1]="StickLeft";a[a.StickRight=2]="StickRight"})(b.TranslationBehaviour||(b.TranslationBehaviour={}));var l=b.TranslationBehaviour;b.translate=function(a,g,c){"undefined"==typeof c&&(c=l.None);a.sort(d);for(var m,b=0,h=0,k=a.length;k>h;h++)if(m=a[h],m.end<g)b+=m.deltaLength;else{if(m.offset>g)break;m.offset<=g&&m.end>=g&&(c===l.None?b+=Math.min(0,m.offset+(m.length+m.deltaLength)-g):c===l.StickLeft?b+=m.offset-g:c===l.StickRight&&(b+=m.end+m.deltaLength-g))}return g+b}});define("vs/languages/typescript/common/lineMap",["require","exports","vs/base/common/strings"],function(e,b,f){var c;return function(d){d.create=function(a){function d(a){for(var b=1,b=1;b<c.length&&!(c[b]>a);b++);return{lineNumber:b,column:1+a-c[b-1]}}var c=f.computeLineStarts(a);return{getOffset:function(a){return c[a.lineNumber-1]+a.column-1},getSpanFromRange:function(a){var d=c[a.startLineNumber-1]+a.startColumn-1;return{start:d,length:c[a.endLineNumber-1]+a.endColumn-1-d}},getPositionFromOffset:d,getRangeFromSpan:function(a){var c=d(a.start);a=d(a.start+a.length);return{startLineNumber:c.lineNumber,startColumn:c.column,endLineNumber:a.lineNumber,endColumn:a.column}}}}}(c||(c={})),c});define("vs/nls!vs/languages/typescript/common/features/quickFix",["vs/nls","vs/nls!vs/languages/typescript/common/typescriptWorker2"],function(e,b){return e.create("vs/languages/typescript/common/features/quickFix",b)});define("vs/nls!vs/languages/typescript/common/lint/lint",["vs/nls","vs/nls!vs/languages/typescript/common/typescriptWorker2"],function(e,b){return e.create("vs/languages/typescript/common/lint/lint",b)});define("vs/languages/typescript/common/features/rename",["require","exports","vs/base/common/uri","vs/languages/typescript/common/typescript"],function(e,b,f,c){return function(d,a,b,e){var h,l;a=a.toString();b=d.host.getScriptLineMap(a).getOffset(b);return h=d.languageService.getRenameInfo(a,b),l={currentName:h.displayName,edits:[]},h.canRename?(l.edits=d.languageService.findRenameLocations(a,b,!1,!1).filter(function(a){return!c.isDefaultLib(a.fileName)}).map(function(a){return{resource:f["default"].parse(a.fileName),newText:e,range:d.host.getScriptLineMap(a.fileName).getRangeFromSpan(a.textSpan)}}),l):(l.rejectReason=h.localizedErrorMessage,l)}});define("vs/languages/typescript/common/features/logicalSelection",["require","exports","vs/languages/typescript/common/lib/typescriptServices","vs/languages/typescript/common/features/converter"],function(e,b,f,c){b.compute=function(d,a,b){d=d.getSourceFile(a.toString());b=c.getOffset(d,b);b=f.getTokenAtPosition(d,b);for(var e=a=-1,h=[];b;){var l=b.getStart(),p=b.getEnd();l===a&&p===e||h.unshift({type:"node",range:c.getRange(d,l,p)});a=l;e=p;b=b.parent}return h}});define("vs/languages/typescript/common/features/outline",["require","exports","vs/languages/typescript/common/features/converter","vs/languages/typescript/common/lib/typescriptServices"],function(e,b,f,c){function d(a,d){return a.range.startLineNumber<d.range.startLineNumber?-1:a.range.startLineNumber>d.range.startLineNumber?1:a.range.startColumn<d.range.startColumn?-1:a.range.startColumn>d.range.startColumn?1:0}function a(a,c){var g=a.getSourceFile(c.toString()),b=[];return a.getNavigationBarItems(g.fileName).filter(function(a){return"\x3cglobal\x3e"!==a.text}).forEach(function(a){return b.push(k(g,a))}),b.sort(d)}function k(a,c){var g=f.getRange(a,c.spans[0]);return{label:c.text,type:h[c.kind]||"variable",range:g,children:c.childItems.map(function(g){return k(a,g)}).sort(d)}}function r(a,b){var g=[],h=a.getSourceFile(b.toString()),m=[];for(h.statements.forEach(function(a){183===a.kind&&a.declarationList.declarations.forEach(function(a){m.push({label:a.name.getText(),type:"variable",range:f.getRange(h,a.getStart(),a.getEnd())})});g.push(a)});g.length;){var e=g.pop(),t="";203===e.kind?t=e.name.text:165===e.kind&&(e.name?t=e.name.text:227===e.parent.kind&&e.parent.name&&(t=c.getTextOfNode(e.parent.name)+": function()"));t&&m.push({label:t,type:"function",range:f.getRange(h,e.getStart(),e.getEnd())});g.push.apply(g,e.getChildren())}e=a.getNavigationBarItems(h.fileName);for(t=0;t<e.length;t++){var u=e[t];u.kind===c.ScriptElementKind.classElement&&(u=k(h,u),m.push(u))}return m.sort(d)}var h=Object.create(null);h[c.ScriptElementKind.moduleElement]="module";h[c.ScriptElementKind.classElement]="class";h[c.ScriptElementKind.enumElement]="enum";h[c.ScriptElementKind.interfaceElement]="interface";h[c.ScriptElementKind.memberFunctionElement]="method";h[c.ScriptElementKind.memberVariableElement]="property";h[c.ScriptElementKind.memberGetAccessorElement]="property";h[c.ScriptElementKind.memberSetAccessorElement]="property";h[c.ScriptElementKind.variableElement]="variable";h[c.ScriptElementKind.constElement]="variable";h[c.ScriptElementKind.localVariableElement]="variable";h[c.ScriptElementKind.variableElement]="variable";h[c.ScriptElementKind.functionElement]="function";h[c.ScriptElementKind.localFunctionElement]="function";b.compute=function(d,c){return/\.js$/.test(c.fsPath)?r(d,c):a(d,c)}});define("vs/languages/typescript/common/features/quickFix","require exports vs/base/common/network vs/base/common/strings vs/languages/typescript/common/lib/typescriptServices vs/languages/typescript/common/features/converter vs/nls!vs/languages/typescript/common/features/quickFix vs/base/common/arrays".split(" "),function(e,b,f,c,d,a,k,r){function h(g,b,m,h){b=b.toString();var p=g.getSourceFile(b);m=a.getOffset(p,{lineNumber:m.endLineNumber,column:m.endColumn});if((p=d.findTokenOnLeftOfPosition(p,m))&&0!==p.getWidth()){var f=d.getTextOfNode(p),f=f.substring(0,f.length-(p.getEnd()-m));if((g=g.getCompletionsAtPosition(b,m))&&!r.isFalsyOrEmpty(g.entries)){var e=[];g.entries.forEach(function(a){if(a.name!==f)switch(a.kind){case d.ScriptElementKind.classElement:case d.ScriptElementKind.interfaceElement:case d.ScriptElementKind.typeElement:case d.ScriptElementKind.enumElement:case d.ScriptElementKind.variableElement:case d.ScriptElementKind.localVariableElement:case d.ScriptElementKind.functionElement:case d.ScriptElementKind.localFunctionElement:case d.ScriptElementKind.memberFunctionElement:case d.ScriptElementKind.memberGetAccessorElement:case d.ScriptElementKind.memberSetAccessorElement:case d.ScriptElementKind.memberVariableElement:case d.ScriptElementKind.constructorImplementationElement:case d.ScriptElementKind.callSignatureElement:case d.ScriptElementKind.indexSignatureElement:case d.ScriptElementKind.constructSignatureElement:case d.ScriptElementKind.parameterElement:case d.ScriptElementKind.primitiveType:var g=c.difference(f,a.name);g<f.length/2||e.push({label:k.localize(0,null,a.name),id:JSON.stringify({type:"rename",name:a.name}),score:g})}});e.sort(function(a,g){return g.score-a.score});g=Math.min(3,e.length);for(b=0;g>b;b++)h.push(e[b])}}}function l(g,b,m,h){g=g.getSourceFile(b.toString());m=a.getOffset(g,{lineNumber:m.endLineNumber,column:m.endColumn});(m=d.findTokenOnLeftOfPosition(g,m))&&0!==m.getWidth()&&(m=d.getTextOfNode(m),(g=p[m])&&f.schemas.inMemory!==b.scheme&&(Array.isArray(g)?g:[g]).forEach(function(a){h.push({label:k.localize(1,null,a.split("/")[1]),id:JSON.stringify({type:"typedefinitions",name:a}),score:1})}),c.endsWith(b.fsPath,".js")&&h.push({label:k.localize(2,null,m),id:JSON.stringify({type:"addglobal",name:m}),score:1}))}b.evaluate=function(g,b,m,h){g=g.getSourceFile(b.toString());m=a.getOffset(g,{lineNumber:m.endLineNumber,column:m.endColumn});m=d.findTokenOnLeftOfPosition(g,m);if(!m||0===m.getWidth())return null;h=JSON.parse(h);switch(h.type){case "rename":var p=g.getLineAndCharacterOfPosition(m.getStart());g=g.getLineAndCharacterOfPosition(m.getEnd());g={startLineNumber:p.line+1,startColumn:p.character+1,endLineNumber:g.line+1,endColumn:g.character+1};return{edits:[{resource:b,range:g,newText:h.name}]};case "addglobal":return h=c.format("/* global {0} */\n",h.name),g={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},{edits:[{resource:b,range:g,newText:h}]}}return null};b.compute=function(a,b,d){if(!d.code)return[];var c=0;try{c=parseInt(d.code)}catch(p){}var f=[];switch(c){case 2339:h(a,b,d,f);break;case 2304:h(a,b,d,f),l(a,b,d,f)}return f};var p={angular:"angularjs/angular.d.ts",$:"jquery/jquery.d.ts",jquery:"jquery/jquery.d.ts",jQuery:"jquery/jquery.d.ts",process:"node/node.d.ts",__dirname:"node/node.d.ts",describe:["mocha/mocha.d.ts","jasmine/jasmine.d.ts"],it:["mocha/mocha.d.ts","jasmine/jasmine.d.ts"],_:["underscore/underscore.d.ts","lodash/lodash.d.ts"],ko:"knockout/knockout.d.ts",Backbone:"backbone/backbone.d.ts",d3:"d3/d3.d.ts",QUnit:"qunit/qunit.d.ts",React:"react/react.d.ts",Ember:"ember/ember.d.ts",Em:"ember/ember.d.ts",Handlebars:"handlebars/handlebars.d.ts",Mustache:"mustache/mustache.d.ts",async:"async/async.d.ts",browserify:"browserify/browserify.d.ts",cordova:"cordova/cordova.d.ts",sinon:"sinon/sinon.d.ts"}});define("vs/languages/typescript/common/features/references",["require","exports","vs/base/common/network","vs/languages/typescript/common/lib/typescriptServices"],function(e,b,f,c){b.find=function(d,a,b,e,h){void 0===h&&(h=!1);var l;a=a.toString();b=d.host.getScriptLineMap(a).getOffset(b);return l=h?d.languageService.getOccurrencesAtPosition(a,b):d.languageService.getReferencesAtPosition(a,b),l?l.filter(function(a){var b=d.languageService.getSourceFile(a.fileName),h;(h=e)||(a=c.getTokenAtPosition(b,a.textSpan.start).parent,h=!(a&&c.isDeclaration(a)));return h}).map(function(a){return{resource:f.URL.fromValue(a.fileName),range:d.host.getScriptLineMap(a.fileName).getRangeFromSpan(a.textSpan)}}):[]}});define("vs/languages/typescript/common/features/suggestions","require exports vs/base/common/collections vs/languages/typescript/common/lib/typescriptServices vs/languages/typescript/common/features/converter vs/languages/typescript/common/features/previewer".split(" "),function(e,b,f,c,d,a){function k(a){return a.type+a.label+a.codeSnippet}function r(a){switch(a){case c.ScriptElementKind.primitiveType:case c.ScriptElementKind.keyword:return"keyword";case c.ScriptElementKind.variableElement:case c.ScriptElementKind.localVariableElement:case c.ScriptElementKind.memberVariableElement:case c.ScriptElementKind.memberGetAccessorElement:case c.ScriptElementKind.memberSetAccessorElement:return"field";case c.ScriptElementKind.functionElement:case c.ScriptElementKind.memberFunctionElement:case c.ScriptElementKind.constructSignatureElement:case c.ScriptElementKind.callSignatureElement:return"function"}return a}b.computeSuggestions=function(a,b,c,g){var e=b.toString();b=a.getSourceFile(e);c=d.getOffset(b,c);e=a.getCompletionsAtPosition(e,c);a=f.createStringDictionary();if(e)for(var m=0,y=e.entries.length;y>m;m++){var t=e.entries[m];f.insert(a,{label:t.name,codeSnippet:t.name,type:r(t.kind)},k)}b=b.getFullText();for(e=c;0<c&&/\w|\$/.test(b.charAt(c-1));)--c;c=b.substring(c,e);if(g.suggest.alwaysAllWords)for(g=b.split(/\W+/),b=0;b<g.length;b++)e=g[b],(e=e.trim())&&f.insert(a,{label:e,codeSnippet:e,type:"text"},k);return{currentWord:c,suggestions:f.values(a)}};b.getSuggestionDetails=function(b,c,e,g,f){if("snippet"===g.type)return g;c=c.toString();var m=b.getSourceFile(c);e=d.getOffset(m,e);b=b.getCompletionEntryDetails(c,e,g.label);if(!b)return g;if(g.documentationLabel=a.plain(b.documentation),g.typeLabel=a.plain(b.displayParts),g.codeSnippet=b.name,f.suggest.useCodeSnippetsOnMethodSuggest&&"function"===r(b.kind))f=b.name,b=b.displayParts.filter(function(a){return"parameterName"===a.kind}).map(function(a){return"{{"+a.text+"}}"}),f+=0<b.length?"("+b.join(", ")+"){{}}":"()",g.codeSnippet=f;return g}});define("vs/languages/typescript/common/js/rewriting",["require","exports","vs/base/common/strings","vs/languages/typescript/common/lib/typescriptServices","vs/languages/typescript/common/js/textEdits"],function(e,b,f,c,d){function a(a,b){return l.lastIndex=0,a.replace(l,function(a,c,d){return b.getText(parseInt(c),parseInt(d))})}e=function(){function a(){}return a.prototype.to=function(a){return a},a.prototype.from=function(a){return a},a.prototype.info=function(a){return{origin:void 0,isInserted:!1,isOverlapping:!1}},a.Instance=new a,a}();b.IdentityTranslator=e;var k,r;b.translate=function(a,b,e){r=Object.create(null);r._total=Date.now();var m="string"==typeof b?b:b.getText(0,b.getLength());e||(e=function(){return c.createSourceFile("afile.ts",m,2,!0)});b=new h(e);e=0;for(var f=a.length;f>e;e++)k=Date.now(),a[e].computeEdits(b),r[a[e].name]=Date.now()-k;if(0===b.edits.length)return{value:m,doEdits:[],undoEdits:[],derived:[]};k=Date.now();a=d.apply(b.edits,m);return r._apply=Date.now()-k,r._total=Date.now()-r._total,a};var h=function(){function a(b){this.sourceFile=b();this.sourceUnitStart=this.sourceFile.getStart();this.edits=[]}return a.prototype.addEdit=function(a){this.edits.push(a)},a.prototype.newInsert=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var e;"string"==typeof a?(e=this.sourceUnitStart,b.unshift(a)):e=a;this.edits.push(new d.Edit(e,0,f.format.apply(f,b)))},a.prototype.newDerive=function(a,b){for(var c=[],e=2;e<arguments.length;e++)c[e-2]=arguments[e];var h;"string"==typeof b?(h=this.sourceUnitStart,c.unshift(b)):h=b;c=new d.Edit(h,0,f.format.apply(f,c));c.origin=new d.TextSpan(a.getStart(),a.getWidth());this.edits.push(c)},a.prototype.newDelete=function(a,b){this.edits.push(new d.Edit(a,b,f.empty))},a.prototype.newReplace=function(a,b,c){this.edits.push(new d.Edit(a,b,c))},a.prototype.newAppend=function(a){this.edits.push(new d.Edit(this.sourceFile.getFullWidth(),0,a))},a}();b.AnalyzerContext=h;var l=/_\$steroids\$_(\d+)_(\d+)/g;b.encodeVariableName=function(a){return f.format("_$steroids$_{0}_{1}",a.getStart(),a.getEnd())};b.decodeVariableNames=function(b,c){if("string"==typeof b)return a(b,c);if(Array.isArray(b))for(var d=b.slice(0);d.length;){var e=d.shift();e.text=e.text&&a(e.text,c);e.children&&d.push.apply(d,e.children)}};b.containsEncodedVariableName=function(a){return l.lastIndex=0,l.test(a)}});define("vs/languages/typescript/common/lint/rules/javascript",["require","exports","vs/base/common/strings","vs/base/common/collections","vs/languages/typescript/common/lib/typescriptServices"],function(e,b,f,c,d){e=function(){function a(){this.code="SA9005";this.name="ComparisonOperatorsNotStrict";this.filter=[172]}return a.prototype.checkNode=function(a,b){28!==a.operatorToken.kind&&29!==a.operatorToken.kind||b.reportError(a,this.name,this.code,a.right.pos-2,2)},a}();b.ComparisonOperatorsNotStrict=e;e=function(){function a(){this.code="SA9050";this.name="MissingSemicolon";this.filter=[183,185,194,134,133]}return a.prototype.checkNode=function(a,b){if(!d.findChildOfKind(a,22)){var c=d.getTokenPosOfNode(a)+a.getWidth()-1;b.reportError(a,this.name,this.code,c,1)}},a}();b.MissingSemicolon=e;e=function(){function a(){this.code="SA9053";this.filter=[172];this.name="UnknownTypeOfResults"}return a.prototype.checkNode=function(b,e){if(b.left&&168===b.left.kind){var h=!1;8===b.right.kind?(h=d.getTextOfNode(b.right),h=f.trim(h,"'"),h=f.trim(h,'"'),h=!c.contains(a._AllowedStrings,h)):89===b.right.kind?h=!0:"undefined"===d.getTextOfNode(b.right)&&(h=!0);h&&e.reportError(b,this.name,this.code)}},a._AllowedStrings={undefined:!0,object:!0,"function":!0,"boolean":!0,number:!0,string:!0},a}();b.UnknownTypeOfResults=e;e=function(){function a(){this.code="SA9054";this.name="SemicolonsInsteadOfBlocks";this.filter=[186,76,188,189,190]}return a.prototype.checkNode=function(a,b){186===a.kind&&(a.thenStatement&&184===a.thenStatement.kind||a.elseStatement&&184===a.elseStatement.kind)&&b.reportError(a,this.name,this.code);a&&a.statement&&184===a.statement.kind&&b.reportError(a,this.name,this.code)},a}();b.SemicolonsInsteadOfBlocks=e;e=function(){function a(){this.code="SA9055";this.name="FunctionsInsideLoops";this.filter=[165,203,166]}return a.prototype.checkNode=function(a,b){for(var c=a.parent;c;){if(189===c.kind||190===c.kind||188===c.kind||187===c.kind){b.reportError(a,this.name,this.code);break}c=c.parent}},a}();b.FunctionsInsideLoops=e;e=function(){function a(){this.code="SA9062";this.name="NewOnLowercaseFunctions";this.filter=[161]}return a.prototype.checkNode=function(a,b){var c;switch(a.expression.kind){case 65:c=a.expression.text;break;case 158:c=a.expression.name.text}c&&!c.charAt(0).match(/[A-Z_]/)&&b.reportError(a.expression,this.name,this.code)},a}();b.NewOnLowercaseFunctions=e});define("vs/languages/typescript/common/lint/rules/layout",["require","exports","vs/base/common/strings","vs/languages/typescript/common/lib/typescriptServices"],function(e,b,f,c){e=function(){function b(){this.code="SA1503";this.name="CurlyBracketsMustNotBeOmitted";this.filter=[186,76,187,190,189,188]}return b.prototype.checkNode=function(a,b){186===a.kind?a.elseStatement&&186===a.elseStatement.kind||(a.thenStatement&&182!==a.thenStatement.kind&&b.reportError(a.thenStatement,this.name,this.code),a.elseStatement&&182!==a.elseStatement.kind&&b.reportError(a.elseStatement,this.name,this.code)):a.statement&&182!==a.statement.kind&&b.reportError(a.statement,this.name,this.code)},b}();b.CurlyBracketsMustNotBeOmitted=e;e=function(){function b(){this.code="SA1514";this.name="EmptyBlocksWithoutComment";this.filter=[182]}return b.prototype.checkNode=function(a,b){a.statements.pos<a.statements.end||c.getTextOfNode(a).match(/\/\/|\/|\*/)||b.reportError(a,this.name,this.code)},b.prototype._hasComment=function(a){return(a=a.getChildAt(1))&&(a=c.getTextOfNode(a))&&0<f.trimWhitespace(a).length?!0:!1},b}();b.EmptyBlocksWithoutComment=e});define("vs/languages/typescript/common/lint/rules/typescript",["require","exports","vs/base/common/strings","vs/languages/typescript/common/lib/typescriptServices"],function(e,b,f,c){e=function(){function b(){this.code="SA9002";this.name="FunctionsWithoutReturnType";this.filter=[203,136,166]}return b.prototype.checkNode=function(a,b){a.type||b.reportError(a.name,this.name,this.code)},b}();b.FunctionsWithoutReturnType=e;e=function(){function b(){this.code="SA9056";this.name="TripleSlashReferenceAlike";this.filter=[230]}return b.prototype.checkNode=function(a,b){var c=a.getLeadingTriviaWidth(),d=a.getFullText().substr(0,c);this._couldMeanTripleSlash(d)&&b.reportError(a,this.name,this.code,0,c)},b.prototype._couldMeanTripleSlash=function(a){if(b._TripleSlashReference.test(a))return!1;a=a.split(/[\s=]/);if(!(5<a.length)){for(var c=0,e=0,h=0,l=0,p=a.length;p>l;l++)c=Math.max(c,f.difference("reference",a[l])),e=Math.max(e,f.difference("path",a[l])),h=Math.max(h,(f.startsWith(a[l],'"')||f.startsWith(a[l],"'")?1:0)+(f.endsWith(a[l],'"')||f.endsWith(a[l],"'")?1:0));return(0<h||5<e)&&5<c?!0:!1}},b._TripleSlashReference=/^(\/\/\/\s*<reference\s+path=)('|")(.+?)\2\s*(static=('|")(.+?)\2\s*)*/im,b}();b.TripleSlashReferenceAlike=e;e=function(){function b(){this.code="SA9057";this.name="UnusedImports";this.filter=[211]}return b.prototype.checkNode=function(a,b){var d=c.getTokenPosOfNode(a.name);(d=b.languageService().getOccurrencesAtPosition(b.filename(),d))&&1===d.length&&b.reportError(a,this.name,this.code,c.getTokenPosOfNode(a))},b}();b.UnusedImports=e;e=function(){function b(){this.code="SA9058";this.name="UnusedVariables";this.filter=[183]}return b.prototype.checkNode=function(a,b){var d=this;if(!(1&a.flags)&&230!==a.parent.kind){for(var e,f,p=a.parent;p&&!e;){switch(p.kind){case 137:case 136:case 203:case 165:case 138:case 139:e=p.body}p=p.parent}var g;if(e){f=e.getFullText();var v=e.getFullStart();g=function(a){for(var c=0,d=0;2>c&&(d=f.indexOf(a.getText(),d),-1!==d);){var d=d+a.getText().length,g=b.languageService().getDefinitionAtPosition(b.filename(),v+d);g&&0<g.length&&g[0].textSpan.start<=a.getStart()&&a.getStart()<=g[0].textSpan.start+g[0].textSpan.length&&(c+=1)}return 1<c}}else g=function(a){var d;a=c.getTokenPosOfNode(a);return d=b.languageService().getOccurrencesAtPosition(b.filename(),a),d&&1<d.length};a.declarationList.declarations.forEach(function(a){if(a.name)if(65===a.name.kind)g(a.name)||b.reportError(a.name,d.name,d.code);else for(a=[a.name];a.length;)for(var c=0,e=a.pop().elements;c<e.length;c++){var f=e[c];65===f.name.kind?g(f.name)||b.reportError(f.name,d.name,d.code):a.push(f.name)}})}},b}();b.UnusedVariables=e;e=function(){function b(){this.code="SA9059";this.name="UnusedFunctions";this.filter=[203]}return b.prototype.checkNode=function(a,b){if(!(1&a.flags||2048&a.flags)){var d=c.getTokenPosOfNode(a.name),e=b.languageService().getOccurrencesAtPosition(b.filename(),d);e&&1>=e.length&&b.reportError(a.name,this.name,this.code,d)}},b}();b.UnusedFunctions=e;e=function(){function b(){this.code="SA9060";this.name="UnusedMembers";this.filter=[134,136]}return b.prototype.checkNode=function(a,b){if(32&a.flags&&a.name){var d=c.getTokenPosOfNode(a.name),e=b.languageService().getOccurrencesAtPosition(b.filename(),d);e&&1>=e.length&&b.reportError(a.name,this.name,this.code,d)}},b}();b.UnusedMembers=e});__extends=this&&this.__extends||function(e,b){function f(){this.constructor=e}for(var c in b)b.hasOwnProperty(c)&&(e[c]=b[c]);e.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};define("vs/languages/typescript/common/lint/lint","require exports vs/nls!vs/languages/typescript/common/lint/lint vs/base/common/severity vs/base/common/types vs/base/common/collections vs/languages/typescript/common/lib/typescriptServices ./rules/layout ./rules/typescript ./rules/javascript".split(" "),function(e,b,f,c,d,a,k,r,h,l){function p(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"function"==typeof d&&(b[String(c).toLowerCase()]=d)}}e=function(){function b(a){this._rules={};this._errors=[];for(var c=0,d=a.length;d>c;c++)this._addRule(a[c])}return b.prototype._addRule=function(b){var c=this,d=function(d){a.lookupOrInsert(c._rules,d,[]).push(b)};b.rule.filter?b.rule.filter.forEach(d):d(-1)},b.prototype.check=function(a){return this._errors.length=0,this._currentSeverity=c["default"].Warning,this._sourceFile=a,this._visit(a),this._errors.slice(0)},b.prototype.reportError=function(a,b,c,d,g){a&&("undefined"==typeof d&&(d=k.getTokenPosOfNode(a)),"undefined"==typeof g&&(g=a.getWidth()),a=this._sourceFile.getLineAndCharacterOfPosition(d),d=this._sourceFile.getLineAndCharacterOfPosition(d+g),this._errors.push({message:b,code:c,severity:this._currentSeverity,range:{startLineNumber:1+a.line,startColumn:1+a.character,endLineNumber:1+d.line,endColumn:1+d.character}}))},b.prototype._visit=function(a){var b=this;a&&(this._checkNodeOrToken(a),k.forEachChild(a,function(a){b._visit(a)}))},b.prototype._checkNodeOrToken=function(b){for(var d=a.lookup(this._rules,b.kind,[]).concat(a.lookup(this._rules,-1,[])),g=0,e=d.length;e>g;g++)if(this._currentSeverity=d[g].severity,this._currentSeverity!==c["default"].Ignore)try{d[g].rule.checkNode(b,this)}catch(f){console.error(f)}},b}();b.SimpleStyleRuleChecker=e;e=function(a){function b(c,d){a.call(this,d);this._languageService=c}return __extends(b,a),b.prototype.languageService=function(){return this._languageService},b.prototype.filename=function(){return this._filename},b.prototype.check=function(b){return this._filename=b.fileName,a.prototype.check.call(this,b)},b}(e);b.LanuageServiceStyleRuleChecker=e;var g=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.reportError=function(b,c,d,g,e){return a.prototype.reportError.call(this,b,this._lookupMessage(c,d),d,g,e)},b.prototype._lookupMessage=function(a,b){switch(b){case "SA1503":return f.localize(0,null);case "SA1514":return f.localize(1,null);case "SA9005":return f.localize(2,null);case "SA9050":return f.localize(3,null);case "SA9051":return f.localize(4,null);case "SA9052":return f.localize(5,null);case "SA9053":return f.localize(6,null);case "SA9054":return f.localize(7,null);case "SA9055":return f.localize(8,null);case "SA9062":return f.localize(9,null);case "SA9002":return f.localize(10,null);case "SA9056":return f.localize(11,null);case "SA9057":return f.localize(12,null);case "SA9058":return f.localize(13,null);case "SA9059":return f.localize(14,null);case "SA9060":return f.localize(15,null);case "SA9061":return f.localize(16,null)}return a},b}(e);b.StyleRuleCheckerWithMessages=g;b.check=function(b,e,f){var k={},u=[];b=b.validate.lint;p(r,k);p(l,k);p(h,k);for(var w in b)if(b.hasOwnProperty(w)){var q=a.lookup(k,String(w).toLowerCase());q&&u.push({rule:d.create(q),severity:c["default"].fromValue(b[w])})}return(new g(e,u)).check(e.getSourceFile(f.toString()))}});define("vs/languages/typescript/common/features/diagnostics","require exports vs/languages/typescript/common/lib/typescriptServices vs/base/common/severity vs/languages/typescript/common/features/converter vs/languages/typescript/common/lint/lint".split(" "),function(e,b,f,c,d,a){function k(a){var b=Object.create(null);return b[2403]=c["default"].fromValue(a.validate.lint.redeclaredVariables),b[2403]=c["default"].fromValue(a.validate.lint.redeclaredVariables),b[2304]=c["default"].fromValue(a.validate.lint.undeclaredVariables),b[2339]=c["default"].fromValue(a.validate.lint.unknownProperty),b[2306]=c["default"].fromValue(a.validate.lint.unknownModule),b[2307]=c["default"].fromValue(a.validate.lint.unknownModule),b[2322]=c["default"].fromValue(a.validate.lint.forcedTypeConversion),b[2323]=c["default"].fromValue(a.validate.lint.forcedTypeConversion),b[2345]=c["default"].fromValue(a.validate.lint.forcedTypeConversion),b[2362]=c["default"].fromValue(a.validate.lint.mixedTypesArithmetics),b[2363]=c["default"].fromValue(a.validate.lint.mixedTypesArithmetics),b[2365]=c["default"].fromValue(a.validate.lint.mixedTypesArithmetics),b[2356]=c["default"].fromValue(a.validate.lint.mixedTypesArithmetics),b[2357]=c["default"].fromValue(a.validate.lint.mixedTypesArithmetics),b[2359]=c["default"].fromValue(a.validate.lint.primitivesInInstanceOf),b[2358]=c["default"].fromValue(a.validate.lint.primitivesInInstanceOf),b[2350]=c["default"].fromValue(a.validate.lint.newOnReturningFunctions),b[2346]=c["default"].fromValue(a.validate.lint.parametersDontMatchSignature),b[1016]=c["default"].fromValue(a.validate.lint.parametersOptionalButNotLast),b[2335]=a.validate._surpressSuperWithoutSuperTypeError?c["default"].Ignore:c["default"].Error,function(a){var c=b[a.code];return"undefined"!=typeof c?c:l[a.category]}}function r(a,b,e){b=b(a);if(b!==c["default"].Ignore){var h=d.getRange(a.file,a.start,a.start+a.length);e.push({severity:b,message:f.flattenDiagnosticMessageText(a.messageText,"\n"),code:a.code.toString(),startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.endColumn})}}function h(a,b){function c(n){if(!n)return!1;switch(n.kind){case 78:case 85:if(2!==b.target)return void q.push(k(n,!0));break;case 211:return q.push(k(n)),!0;case 217:return n.isExportEquals?q.push(k(n)):2!==b.target&&q.push(k(n,!0)),!0;case 204:if(2!==b.target)return void q.push(k(n,!0));if(h(n.modifiers)||d(n.typeParameters))return!0;break;case 225:if(102===n.token)return q.push(k(n)),!0;break;case 205:return q.push(k(n)),!0;case 208:return q.push(k(n)),!0;case 206:return q.push(k(n)),!0;case 166:2!==b.target&&q.push(k(n,!0));case 136:case 135:case 137:case 138:case 139:case 165:case 203:case 203:if(h(n.modifiers)||d(n.typeParameters)||e(n.type))return!0;break;case 183:if(2!==b.target&&/^const|^let/.test(n.getText()))return void q.push(k(n,!0));if(h(n.modifiers))return!0;break;case 201:if(e(n.type))return!0;break;case 160:case 161:if(n.typeArguments&&0<n.typeArguments.length){var x=n.typeArguments.pos;return q.push(l(a,x,n.typeArguments.end-x)),!0}break;case 131:if(n.modifiers)return x=n.modifiers.pos,q.push(l(a,x,n.modifiers.end-x)),!0;if(n.questionToken)return q.push(k(n.questionToken)),!0;if(n.type)return q.push(k(n.type)),!0;2!==b.target&&(n.initializer||n.dotDotDotToken)&&q.push(k(n.initializer||n.dotDotDotToken,!0));break;case 134:return q.push(k(n)),!0;case 207:return q.push(k(n)),!0;case 163:return q.push(k(n.type)),!0;case 228:return 2!==b.target&&q.push(k(n,!0)),!0;case 132:return b.experimentalDecorators||(n=k(n),n.messageText="Decorators is an experimental feature which must be enabled explicitly. Use a jsconfig.json-file and the 'experimentalDecorators' switch.",n.category=f.DiagnosticCategory.Warning,q.push(n)),!0}return f.forEachChild(n,c)}function d(b){if(b){var c=b.pos;return q.push(l(a,c,b.end-c)),!0}return!1}function e(a){return a?(q.push(k(a)),!0):!1}function h(a){return a&&a.forEach(function(a){switch(a.kind){case 108:case 106:case 107:case 115:return q.push(k(a)),!0}}),!1}function k(a,b){return void 0===b&&(b=!1),l(a.getSourceFile(),a.getStart(),a.getEnd()-a.getStart(),b)}function l(a,b,c,d){return void 0===d&&(d=!1),{file:a,start:b,length:c,messageText:d?"This can only be used with ES6. Make sure to have a jsconfig.json-file which sets the target to ES6.":"This can only be used in ts files.",category:f.DiagnosticCategory.Error,code:-1}}var q=[];return c(a),q}b.getSyntacticDiagnostics=function(a,b,c,d,e){var f=[];if(d.validate.enable&&d.validate.syntaxValidation){var l=b.toString();b=a.getSyntacticDiagnostics(l);e&&(a=a.getSourceFile(l),b.push.apply(b,h(a,c)));c=k(d);for(d=0;d<b.length;d++)r(b[d],c,f)}return f};b.getSemanticDiagnostics=function(a,b,c){var d=[],e=!1;if(c.validate.enable&&c.validate.semanticValidation)for(a=a.getSemanticDiagnostics(b.toString()),c=k(c),b=0;b<a.length;b++)r(a[b],c,d),e=e||2307===a[b].code||6053===a[b].code;return{markers:d,hasMissingFiles:e}};b.getExtraDiagnostics=function(b,c,d){return!1===d.validate.enable||!1===d.validate.semanticValidation?[]:a.check(d,b,c).map(function(a){return{message:a.message,severity:a.severity,startLineNumber:a.range.startLineNumber,startColumn:a.range.startColumn,endLineNumber:a.range.endLineNumber,endColumn:a.range.endColumn}})};var l=Object.create(null);l[f.DiagnosticCategory.Error]=c["default"].Error;l[f.DiagnosticCategory.Warning]=c["default"].Warning;l[f.DiagnosticCategory.Message]=c["default"].Info;b.createDiagnosticClassifier=k});__extends=this&&this.__extends||function(e,b){function f(){this.constructor=e}for(var c in b)b.hasOwnProperty(c)&&(e[c]=b[c]);e.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};define("vs/languages/typescript/common/project/projectService","require exports vs/base/common/arrays vs/languages/typescript/common/typescript vs/base/common/paths vs/languages/typescript/common/lib/typescriptServices vs/languages/typescript/common/project/snapshots vs/languages/typescript/common/js/rewriting vs/languages/typescript/common/js/textEdits vs/languages/typescript/common/lineMap vs/editor/common/core/position".split(" "),function(e,b,f,c,d,a,k,r,h,l,p){function g(){function a(d){void 0===d&&(d=0);var e,f;for(f in b)b[f]>=d&&(e?e.push(f):e=[f]);return{generation:c,fileNames:e}}var b=Object.create(null),c=0,d=0;return{addMissing:function(a){b[a]=b[a]||c++},removeMissing:function(a){return b[a]?(delete b[a],!0):void 0},getMissingSince:a,getMissingSinceLastTime:function(){var b=a(d);return d=b.generation,b.fileNames}}}var v=function(){function a(){this._version=0}return a.prototype.update=function(a){return a!==this._value&&(this._value=a,this._lineMap=void 0,this._snap=void 0,this._version+=1),this},a.prototype.version=function(){return this._version},a.prototype.snap=function(){return this._snap||(this._snap=k.fromValue(this._value)),this._snap},a.prototype.lineMap=function(){return this._lineMap||(this._lineMap=l.create(this._value)),this._lineMap},a}();b.Script=v;var m=function(){function b(c,d){var e=this;this._missing=g();this._scriptLookUp=function(a){var b=d(a);return b||e._missing.addMissing(a),b};this.setRoots(c);this.setCompilationSettings(a.getDefaultCompilerOptions())}return b.prototype.addRoot=function(a){return~this._roots.indexOf(a)?void 0:(this._roots.push(a),this._projectVersion=void 0,!0)},b.prototype.addRootIfMissing=function(a){return this._missing.removeMissing(a)?this.addRoot(a):void 0},b.prototype.removeRoot=function(a){a=this._roots.indexOf(a);return~a&&this._roots.splice(a,1)?(this._projectVersion=void 0,!0):void 0},b.prototype.isRoot=function(a){return 0<=this._roots.indexOf(a)},b.prototype.setRoots=function(a){this._roots=a;this._projectVersion=void 0},b.prototype.setCompilationSettings=function(b){this._projectVersion=void 0;this._compilerOptions=b||a.getDefaultCompilerOptions();this._compilerOptions.allowNonTsExtensions=!0;this._compilerOptions.module=2;this._compilerOptions.experimentalDecorators=!0},b.prototype.getCompilationSettings=function(){return this._compilerOptions},b.prototype.getMissingFileNamesSinceLastTime=function(){return this._missing.getMissingSinceLastTime()},b.prototype.getScriptFileNames=function(){return this._roots},b.prototype.getScriptVersion=function(a){return(a=this._scriptLookUp(a))&&a.version().toString()},b.prototype.getScriptSnapshot=function(a){return(a=this._scriptLookUp(a))&&a.snap()},b.prototype.getScriptLineMap=function(a){return(a=this._scriptLookUp(a))&&a.lineMap()},b.prototype.getCurrentDirectory=function(){return""},b.prototype.getDefaultLibFileName=function(a){return!a||a.noLib?"":2===a.target?c.defaultLibES6.toString():c.defaultLib.toString()},b}();b.LanguageServiceHost=m;var y=function(){return function(b,c,d,e){this.resource=c;this.host=new m(d.map(function(a){return a.toString()}),b.lookUpScript.bind(b));this.host.setCompilationSettings(e);this.languageService=a.createLanguageService(this.host)}}();e=function(){function a(){this._scripts=Object.create(null);this._projects=Object.create(null);this._rewrittenProjects=Object.create(null);this._virtualProject=this._projects[d.dirname(c.virtualProjectResource.fsPath)]=new y(this,c.virtualProjectResource,[],void 0)}return Object.defineProperty(a.prototype,"defaultRewriter",{set:function(a){this._defaultRewriter=a},enumerable:!0,configurable:!0}),a.prototype.getProject=function(a,b){void 0===b&&(b=this._defaultRewriter);var c=this._lookUpProject(a);if(f.isFalsyOrEmpty(b))return c;var d,e=c.resource.toString()+b.map(function(a){return a.name}).join();return d=this._rewrittenProjects[e]||new t(this,c,b),this._rewrittenProjects[e]=d},a.prototype._lookUpProject=function(a){for(var b=d.dirnames(a.fsPath),c=b.next();!c.done;){c=c.value;if(this._projects[c]&&this._projects[c].host.isRoot(a.toString()))return this._projects[c];c=b.next()}return this._virtualProject.host.addRoot(a.toString()),this._virtualProject},a.prototype.projects=function(){var a=[],b;for(b in this._projects)a.push(this._projects[b]);return a},a.prototype.lookUpScript=function(a){return this._scripts[a]},Object.defineProperty(a.prototype,"version",{get:function(){return Object.keys(this._scripts).join("")},enumerable:!0,configurable:!0}),a.prototype.scriptsNames=function(){return Object.keys(this._scripts)},a.prototype._forEachProject=function(a){for(var b in this._projects)a(this._projects[b]);for(b in this._rewrittenProjects)a(this._rewrittenProjects[b]);a(this._virtualProject)},a.prototype.getMissingScriptNamesSinceLastTime=function(){var a=Object.create(null);return this._forEachProject(function(b){if(b=b.host.getMissingFileNamesSinceLastTime())for(var c=0;c<b.length;c++)a[b[c]]=0}),Object.keys(a)},a.prototype.getTotalLength=function(){var a=0,b;for(b in this._scripts)a+=this._scripts[b].snap().getLength();return a},a.prototype._removeRewrittenProject=function(a){for(var b in this._rewrittenProjects)this._rewrittenProjects[b].resource.toString()===a.toString()&&delete this._rewrittenProjects[b]},a.prototype._syncProject=function(a,b,e,f){var g=d.dirname(b.fsPath);if(a===c.ChangeKind.Added||a===c.ChangeKind.Changed){if(a===c.ChangeKind.Changed?(this._projects[g].host.setCompilationSettings(f),this._projects[g].host.setRoots(e.map(function(a){return a.toString()}))):this._projects[g]=new y(this,b,e,f),this._removeRewrittenProject(b),b.toString()!==this._virtualProject.resource.toString())for(g=0;g<e.length;g++)b=e[g],this._virtualProject.host.removeRoot(b.toString())}else a===c.ChangeKind.Removed&&(b=this._projects[g])&&(delete this._projects[g],this._removeRewrittenProject(b.resource))},a.prototype._syncFile=function(a,b,d){var e=b.toString();a===c.ChangeKind.Removed?delete this._scripts[e]:a===c.ChangeKind.Changed?(a=this._scripts[e]||new v,this._scripts[e]=a.update(d)):a===c.ChangeKind.Added&&(this._scripts[e]=(new v).update(d),this._forEachProject(function(a){return a.host.addRootIfMissing(e)}))},a}();b.ProjectService=e;var t=function(){return function(b,c,d){b=new w(c.host.getScriptFileNames(),b.lookUpScript.bind(b),c.languageService.getSourceFile.bind(c.languageService),d);this.resource=c.resource;this.host=this.translations=b;this.host.setCompilationSettings(c.host.getCompilationSettings());this.languageService=a.createLanguageService(this.host)}}(),u=function(){function a(b,c,d){this._textOperationResult=b;this._lineMapModified=l.create(c.getText(0,c.getLength()));this._lineMapOriginal=l.create(d.getText(0,d.getLength()))}return a.prototype.to=function(a){if(p.Position.isIPosition(a))return this._doTranslate(this._textOperationResult.doEdits,this._lineMapOriginal,this._lineMapModified,a,h.TranslationBehaviour.None);var b=this._doTranslate(this._textOperationResult.doEdits,this._lineMapOriginal,this._lineMapModified,{lineNumber:a.startLineNumber,column:a.startColumn},h.TranslationBehaviour.None);a=this._doTranslate(this._textOperationResult.doEdits,this._lineMapOriginal,this._lineMapModified,{lineNumber:a.endLineNumber,column:a.endColumn},h.TranslationBehaviour.None);return{startLineNumber:b.lineNumber,startColumn:b.column,endLineNumber:a.lineNumber,endColumn:a.column}},a.prototype.from=function(a){if(p.Position.isIPosition(a))return this._doTranslate(this._textOperationResult.undoEdits,this._lineMapModified,this._lineMapOriginal,a,h.TranslationBehaviour.None);var b=this._doTranslate(this._textOperationResult.undoEdits,this._lineMapModified,this._lineMapOriginal,{lineNumber:a.startLineNumber,column:a.startColumn},h.TranslationBehaviour.StickLeft);a=this._doTranslate(this._textOperationResult.undoEdits,this._lineMapModified,this._lineMapOriginal,{lineNumber:a.endLineNumber,column:a.endColumn},h.TranslationBehaviour.StickRight);return{startLineNumber:b.lineNumber,startColumn:b.column,endLineNumber:a.lineNumber,endColumn:a.column}},a.prototype._doTranslate=function(a,b,c,d,e){b=b.getOffset(d);a=h.translate(a,b,e);return c.getPositionFromOffset(a)},a.prototype.info=function(a){var b;b=this._lineMapModified.getOffset(p.Position.startPosition(a));a=this._lineMapModified.getOffset(p.Position.endPosition(a));b=new h.TextSpan(b,a-b);a=this._textOperationResult.undoEdits;for(var c=!1,d=!1,e=0,f=a.length;f>e&&!c&&!d;e++)a[e].contains(b)&&(c=!0),a[e].overlaps(b)&&(d=!0);return{origin:void 0,isInserted:c,isOverlapping:d}},a}(),w=function(a){function b(c,d,e,f){a.call(this,c,d);this._rewrittenSnapshots=Object.create(null);this._sourceFileLookUp=e;this._syntaxRewriter=f}return __extends(b,a),b.prototype.getTranslator=function(a){return(a=this._getOrCreateRewrittenSnapshot(a.toString()))&&a.translator||r.IdentityTranslator.Instance},b.prototype.getOriginal=function(b){return a.prototype.getScriptSnapshot.call(this,b.toString())},b.prototype.getScriptSnapshot=function(b){var c=this._getOrCreateRewrittenSnapshot(b);return c&&c.script.snap()||a.prototype.getScriptSnapshot.call(this,b)},b.prototype.getScriptLineMap=function(b){var c=this._getOrCreateRewrittenSnapshot(b);return c&&c.script.lineMap()||a.prototype.getScriptLineMap.call(this,b)},b.prototype._getOrCreateRewrittenSnapshot=function(b){if(".ts"===d.extname(b)||!a.prototype.getScriptSnapshot.call(this,b))return null;var c=this.getScriptVersion(b),e=this._rewrittenSnapshots[b];if(!e||e.versionId!==c){var c=a.prototype.getScriptSnapshot.call(this,b),e=r.translate(this._syntaxRewriter,c,this._sourceFileLookUp.bind(this,b)),f=(new v).update(e.value),e={script:f,versionId:this.getScriptVersion(b),translator:new u(e,f.snap(),c)};this._rewrittenSnapshots[b]=e}return e},b}(m)});var __extends=this&&this.__extends||function(e,b){function f(){this.constructor=e}for(var c in b)b.hasOwnProperty(c)&&(e[c]=b[c]);e.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)},__decorate=this&&this.__decorate||function(e,b,f,c){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,b,f,c);switch(arguments.length){case 2:return e.reduceRight(function(b,a){return a&&a(b)||b},b);case 3:return e.reduceRight(function(c,a){return void(a&&a(b,f))},void 0);case 4:return e.reduceRight(function(c,a){return a&&a(b,f,c)||c},c)}},__param=this&&this.__param||function(e,b){return function(f,c){b(f,c,e)}};define("vs/languages/typescript/common/typescriptWorker2","require exports vs/base/common/winjs.base vs/base/common/paths vs/base/common/uri vs/base/common/lifecycle vs/editor/common/modes/abstractModeWorker vs/base/common/objects vs/languages/typescript/common/options vs/languages/typescript/common/typescript vs/editor/common/modes/supports vs/languages/typescript/common/project/projectService vs/languages/typescript/common/features/format vs/languages/typescript/common/features/logicalSelection vs/languages/typescript/common/features/extraInfo vs/languages/typescript/common/features/outline vs/languages/typescript/common/features/occurrences vs/languages/typescript/common/features/definitions vs/languages/typescript/common/features/references vs/languages/typescript/common/features/parameterHints vs/languages/typescript/common/features/suggestions vs/languages/typescript/common/features/quickFix vs/languages/typescript/common/features/diagnostics vs/languages/typescript/common/features/emitting vs/languages/typescript/common/features/rename vs/editor/common/services/resourceService vs/platform/markers/common/markers".split(" "),function(e,b,f,c,d,a,k,r,h,l,p,g,v,m,y,t,u,w,q,n,x,B,z,C,D,A,E){e=function(b){function e(a,c,d,f){var h=this;b.call(this,a,c,d,f);this._modelListener=Object.create(null);this._disposables=[];this._projectService=new g.ProjectService;this._disposables.push(this.resourceService.addListener2_(A.ResourceEvents.ADDED,this._onResourceAdded.bind(this)));this._disposables.push(this.resourceService.addListener2_(A.ResourceEvents.REMOVED,this._onResourceRemoved.bind(this)));this.resourceService.all().forEach(function(a){return h._onResourceAdded({url:a.getAssociatedResource(),addedElement:a})})}return __extends(e,b),e.prototype.dispose=function(){for(var b in this._modelListener)this._modelListener[b](),delete this._modelListener[b];this._disposables=a.disposeAll(this._disposables)},e.prototype._isInterestingModel=function(a){return/\.(ts|js)$/.test(a.getAssociatedResource().fsPath)||a.getMode()===this._getMode()},e.prototype._onResourceAdded=function(a){var b=this;if(this._isInterestingModel(a.addedElement)){var c,d=a.addedElement,e=a.url;c=function(){return b._projectService._syncFile(l.ChangeKind.Changed,e,d.getValue())};a=d.addListener("changed",function(){return c()});this._modelListener[e.toString()]=a;c()}},e.prototype._onResourceRemoved=function(a){a=a.url;var b=this._modelListener[a.toString()];b&&(delete this._modelListener[a.toString()],b(),"file"!==a.scheme&&this._projectService._syncFile(l.ChangeKind.Removed,a,void 0))},e.prototype.canAcceptFileChanges=function(a){return 36700160>this._projectService.getTotalLength()+a},e.prototype.acceptFileChanges=function(a){for(var b=0,c=a.length;c>b;b++)this.resourceService.get(a[b].resource)||this._projectService._syncFile(a[b].kind,a[b].resource,a[b].content);return!0},e.prototype.acceptProjectChanges=function(a){for(var b=0,d=a.length;d>b;b++)this._projectService._syncProject(a[b].kind,a[b].resource,a[b].files,a[b].options);this._validationHelper.triggerDueToConfigurationChange();var e=Object.create(null);return this._projectService.projects().forEach(function(a){return e[c.dirname(a.resource.fsPath)]=a.resource}),e},e.prototype._doConfigure=function(a,b){void 0===b&&(b=h.typeScriptOptions);a&&Array.isArray(a.validate)&&delete a.validate;var c=h.withDefaultOptions(a,b);return r.equals(c,this._options)?void 0:(this._options=c,f.TPromise.as(!0))},e.prototype._createInPlaceReplaceSupport=function(){return new p.WorkerInplaceReplaceSupport(this.resourceService,this)},e.prototype.doValidate=function(a){var b=this._projectService.getProject(a),c=[];c.push.apply(c,z.getSyntacticDiagnostics(b.languageService,a,b.host.getCompilationSettings(),this._options,"javascript"===this.resourceService.get(a).getMode().getId()));c.push.apply(c,z.getExtraDiagnostics(b.languageService,a,this._options));this.markerService.changeOne("/"+this._getMode().getId()+"/syntactic",a,c)},e.prototype.doValidateSemantics=function(a){var b=this._projectService.getProject(a);return(b=z.getSemanticDiagnostics(b.languageService,a,this._options))?(this.markerService.changeOne("/"+this._getMode().getId()+"/semantic",a,b.markers),b.hasMissingFiles):void 0},e.prototype.getMissingFiles=function(){var a=this._projectService.getMissingScriptNamesSinceLastTime();return a&&a.map(d["default"].parse)},e.prototype._getContextForValidationParticipants=function(a){return null},e.prototype.doSuggest=function(a,b){var c=this._projectService.getProject(a),c=x.computeSuggestions(c.languageService,a,b,this._options);return f.TPromise.as(c)},e.prototype._getSuggestContext=function(a){return f.TPromise.as(this._projectService)},e.prototype.getSuggestionDetails=function(a,b,c){var d=this._projectService.getProject(a);a=x.getSuggestionDetails(d.languageService,a,b,c,this._options);return f.TPromise.as(a)},e.prototype.runQuickFixAction=function(a,b,c){var d=this._projectService.getProject(a);a=B.evaluate(d.languageService,a,b,c);return f.TPromise.as(a)},e.prototype.getQuickFixes=function(a,b){var c=this._projectService.getProject(a),c=B.compute(c.languageService,a,b);return f.TPromise.as(c)},e.prototype.getEmitOutput=function(a,b){var c=this._projectService.getProject(a),c=C.getEmitOutput(c.languageService,a,b);return f.TPromise.as(c)},e.prototype.getParameterHints=function(a,b){var c=this._projectService.getProject(a),c=n.compute(c.languageService,a,b);return f.TPromise.as(c)},e.prototype.findDeclaration=function(a,b){return this._findTypeScriptDeclaration(a,b)},e.prototype._findTypeScriptDeclaration=function(a,b){var c=this._projectService.getProject(a),c=w.findDeclaration(c,a,b);return f.TPromise.as(c)},e.prototype.textReplace=function(a,b){return p.ReplaceSupport.valueSetsReplace([["true","false"],["string","number","boolean","void","any"],["private","public"]],a,b)},e.prototype.findReferences=function(a,b,c){var d=this._projectService.getProject(a);a=q.find(d,a,b,c);return f.TPromise.as(a)},e.prototype.computeInfo=function(a,b){var c=this._projectService.getProject(a),c=y.compute(c.languageService,a,b);return f.TPromise.as(c)},e.prototype.findOccurrences=function(a,b,c){var d=this._projectService.getProject(a);a=u.compute(d.languageService,a,b,c);return f.TPromise.as(a)},e.prototype.getOutline=function(a){var b=this._projectService.getProject(a);return t.compute(b.languageService,a)},e.prototype.formatDocument=function(a,b){var c=this._projectService.getProject(a);return v.formatDocument(c.languageService,a,b)},e.prototype.formatRange=function(a,b,c){var d=this._projectService.getProject(a);return v.formatRange(d.languageService,a,b,c)},e.prototype.formatAfterKeystroke=function(a,b,c,d){var e=this._projectService.getProject(a);return v.formatAfterKeystroke(e.languageService,a,b,c,d)},e.prototype.getRangesToPosition=function(a,b){var c=this._projectService.getProject(a);return m.compute(c.languageService,a,b)},e.prototype.rename=function(a,b,c){var d=this._projectService.getProject(a);a=D(d,a,b,c);return f.TPromise.as(a)},e=__decorate([__param(2,A.IResourceService),__param(3,E.IMarkerService)],e)}(k.AbstractModeWorker);b.TypeScriptWorker2=e});